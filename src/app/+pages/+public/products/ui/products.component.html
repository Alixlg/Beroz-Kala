<div class="titel">محصولات</div>
<div class="search" action="">
  <app-search [products]="productsObj.products" (onDone)="search($event)"
    (onVisible)="searchProductVisible = $event"></app-search>
</div>
<div class="sortBy">
  <button (mouseenter)="sortMenuVisible =! sortMenuVisible">فیلتر بر اساس</button>
  @if (sortMenuVisible) {
  <ul>
    <li><button (click)="this.sortByThing = 'price-up'; sortMenuVisible = false">قیمت (زیاد به کم)</button></li>
    <li><button (click)="this.sortByThing = 'price-down'; sortMenuVisible = false">قیمت (کم به زیاد)</button></li>
    <li><button (click)="this.sortByThing = 'new-products'; sortMenuVisible = false">محصولات جدید</button></li>
    <li><button (click)="this.sortByThing = 'old-products'; sortMenuVisible = false">محصولات قدیمی</button></li>
  </ul>
  }
</div>

@if (!searchProductVisible) {
<div class="products">
  @for (item of sortBy(); track $index) {
  <app-product (onBuy)="buy($event)" [product]="item"></app-product>
  }@empty {
  <div class="empty">
    هیچ محصولی وجود ندارد
  </div>
  }
</div>
}@else {
<div class="products">
  @for (item of searchedProducts; track $index) {
  <app-product (onBuy)="buy($event)" [product]="item"></app-product>
  }@empty {
  <div class="empty">
    هیچ محصولی پیدا نشد
  </div>
  }
</div>
}
